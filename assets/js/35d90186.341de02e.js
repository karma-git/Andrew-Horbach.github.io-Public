"use strict";(self.webpackChunkclassic=self.webpackChunkclassic||[]).push([[2108],{8215:function(e,t,a){var n=a(7294);t.Z=function(e){var t=e.children,a=e.hidden,r=e.className;return n.createElement("div",{role:"tabpanel",hidden:a,className:r},t)}},6396:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(7462),r=a(7294),l=a(2389),i=a(9443);var o=function(){var e=(0,r.useContext)(i.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},p=a(3616),s=a(6010),d="tabItem_vU9c";function m(e){var t,a,l,i=e.lazy,m=e.block,c=e.defaultValue,u=e.values,k=e.groupId,g=e.className,h=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),v=null!=u?u:h.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),N=(0,p.lx)(v,(function(e,t){return e.value===t.value}));if(N.length>0)throw new Error('Docusaurus error: Duplicate values "'+N.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var f=null===c?c:null!=(t=null!=c?c:null==(a=h.find((function(e){return e.props.default})))?void 0:a.props.value)?t:null==(l=h[0])?void 0:l.props.value;if(null!==f&&!v.some((function(e){return e.value===f})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+f+'" but none of its children has the corresponding value. Available values are: '+v.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var b=o(),w=b.tabGroupChoices,y=b.setTabGroupChoices,C=(0,r.useState)(f),D=C[0],x=C[1],T=[],I=(0,p.o5)().blockElementScrollPositionUntilNextRender;if(null!=k){var A=w[k];null!=A&&A!==D&&v.some((function(e){return e.value===A}))&&x(A)}var O=function(e){var t=e.currentTarget,a=T.indexOf(t),n=v[a].value;n!==D&&(I(t),x(n),null!=k&&y(k,n))},z=function(e){var t,a=null;switch(e.key){case"ArrowRight":var n=T.indexOf(e.currentTarget)+1;a=T[n]||T[0];break;case"ArrowLeft":var r=T.indexOf(e.currentTarget)-1;a=T[r]||T[T.length-1]}null==(t=a)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":m},g)},v.map((function(e){var t=e.value,a=e.label,l=e.attributes;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:D===t?0:-1,"aria-selected":D===t,key:t,ref:function(e){return T.push(e)},onKeyDown:z,onFocus:O,onClick:O},l,{className:(0,s.Z)("tabs__item",d,null==l?void 0:l.className,{"tabs__item--active":D===t})}),null!=a?a:t)}))),i?(0,r.cloneElement)(h.filter((function(e){return e.props.value===D}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},h.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==D})}))))}function c(e){var t=(0,l.Z)();return r.createElement(m,(0,n.Z)({key:String(t)},e))}},1504:function(e,t,a){var n=a(7294),r=a(7273);r.Z.initialize({startOnLoad:!0});t.Z=function(e){var t=e.chart;return(0,n.useEffect)((function(){r.Z.contentLoaded()}),[]),n.createElement("div",{className:"mermaid"},t)}},4566:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return d},contentTitle:function(){return m},metadata:function(){return c},Highlight:function(){return u},toc:function(){return k},default:function(){return h}});var n=a(7462),r=a(3366),l=(a(7294),a(3905)),i=a(6396),o=a(8215),p=a(1504),s=["components"],d={id:"gitops-argocd",title:"Argo CD: Let's Get Stuff Deployed",sidebar_position:4},m="Argo CD: Let's Get Stuff Deployed",c={unversionedId:"DevOps/gitops-argocd",id:"DevOps/gitops-argocd",title:"Argo CD: Let's Get Stuff Deployed",description:"<span",source:"@site/docs/DevOps/2-gitops-argocd.md",sourceDirName:"DevOps",slug:"/DevOps/gitops-argocd",permalink:"/Andrew-Horbach.github.io-Public/docs/DevOps/gitops-argocd",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/DevOps/2-gitops-argocd.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"gitops-argocd",title:"Argo CD: Let's Get Stuff Deployed",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"About Vagrant",permalink:"/Andrew-Horbach.github.io-Public/docs/DevOps/vagrant"},next:{title:"Links to Read",permalink:"/Andrew-Horbach.github.io-Public/docs/DocOps/to-read"}},u=function(e){var t=e.children,a=e.color;return(0,l.kt)("span",{style:{backgroundColor:a,borderRadius:"2px",color:"#fff",padding:"0.2rem"}},t)},k=[{value:"Revising",id:"revising",children:[{value:"\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438",id:"\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438",children:[],level:3},{value:"Cloud \u2601\ufe0f",id:"cloud-\ufe0f",children:[],level:3},{value:"Docker \ud83d\udc33",id:"docker-",children:[],level:3},{value:"Orchestration \u26f5",id:"orchestration-",children:[],level:3},{value:"CI/CD \ud83d\ude80 \ud83d\udcbf",id:"cicd--",children:[],level:3}],level:2},{value:"GitOps, Argo CD",id:"gitops-argo-cd",children:[{value:"Argo CD workflow",id:"argo-cd-workflow",children:[],level:3},{value:"GitOps",id:"gitops",children:[],level:3},{value:"GitOps vs IaC(CI_OPs)",id:"gitops-vs-iacci_ops",children:[],level:3},{value:"Argo CD",id:"argo-cd",children:[],level:3}],level:2},{value:"Demo",id:"demo",children:[{value:"Application",id:"application",children:[],level:3},{value:"Kubernetes Environment",id:"kubernetes-environment",children:[],level:3},{value:"Environment Init",id:"environment-init",children:[{value:"Argo UI",id:"argo-ui",children:[],level:4},{value:"App UI",id:"app-ui",children:[],level:4},{value:"Example Update",id:"example-update",children:[],level:4}],level:3}],level:2},{value:"Conclusion",id:"conclusion",children:[],level:2}],g={Highlight:u,toc:k};function h(e){var t,d=e.components,m=(0,r.Z)(e,s);return(0,l.kt)("wrapper",(0,n.Z)({},g,m,{components:d,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"argo-cd-lets-get-stuff-deployed"},"Argo CD: Let's Get Stuff Deployed"),(0,l.kt)("h2",{id:"revising"},"Revising"),(0,l.kt)("h3",{id:"\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438"},"\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:a(9729).Z})),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Source: ",(0,l.kt)("a",{parentName:"p",href:"https://digital.ai/periodic-table-of-devops-tools/"},"https://digital.ai/periodic-table-of-devops-tools/")))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"1. Cloud \u2601\ufe0f"),(0,l.kt)("th",{parentName:"tr",align:null},"2. Docker \ud83d\udc33"),(0,l.kt)("th",{parentName:"tr",align:null},"3. Orchestration \u26f5"),(0,l.kt)("th",{parentName:"tr",align:null},"4. CI/CD \ud83d\ude80"),(0,l.kt)("th",{parentName:"tr",align:null},"5. K8s GitOps operators \ud83d\udc19"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"AWS"),(0,l.kt)("td",{parentName:"tr",align:null},"Docker Engine"),(0,l.kt)("td",{parentName:"tr",align:null},"Kubernetes"),(0,l.kt)("td",{parentName:"tr",align:null},"Jenkins"),(0,l.kt)("td",{parentName:"tr",align:null},"Argo CD")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Azure"),(0,l.kt)("td",{parentName:"tr",align:null},"CRI-O"),(0,l.kt)("td",{parentName:"tr",align:null},"Docker Swarm"),(0,l.kt)("td",{parentName:"tr",align:null},"GitLab CI/CD"),(0,l.kt)("td",{parentName:"tr",align:null},"Flux CD")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"others"),(0,l.kt)("td",{parentName:"tr",align:null},"others"),(0,l.kt)("td",{parentName:"tr",align:null},"others"),(0,l.kt)("td",{parentName:"tr",align:null},"others"),(0,l.kt)("td",{parentName:"tr",align:null},"others")))),(0,l.kt)("h3",{id:"cloud-\ufe0f"},"Cloud \u2601\ufe0f"),(0,l.kt)(u,{color:"#25c2a0",mdxType:"Highlight"},"AWS")," public cloud - \u044d\u0442\u043e \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430, \u0433\u0434\u0435 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u0440\u0435\u0441\u0443\u0440\u0441\u0430\u043c \u043f\u043e \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044e.",(0,l.kt)("h3",{id:"docker-"},"Docker \ud83d\udc33"),(0,l.kt)("p",null,"\ud83d\udc33 \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442 \u043d\u0430\u0448\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u043e\u0435 \u043d\u0430 \u043b\u044e\u0431\u043e\u043c \u042f\u041f \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043b\u044e\u0431\u044b\u0445 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u043e\u0432, \u0432 \u043b\u0435\u0433\u043a\u043e\u0432\u0435\u0441\u043d\u0443\u044e \u043a\u043e\u0440\u043e\u0431\u043a\u0443 \ud83d\udce6 , \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u043d\u043e \u043b\u0435\u0433\u043a\u043e \u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u0443\u0434\u0430 \u0443\u0433\u043e\u0434\u043d\u043e \u0438 \u0442\u0430\u043a \u0436\u0435 \u043b\u0435\u0433\u043a\u043e \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043d\u0430\u0448\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0435\u0435\u0441\u044f \u0432 \u044d\u0442\u043e\u0439 \u043a\u043e\u0440\u043e\u0431\u043a\u0435 \ud83c\udfc3\u200d\u2642\ufe0f"),(0,l.kt)(u,{color:"#25c2a0",mdxType:"Highlight"},"Docker Inc.")," \u0441\u0434\u0435\u043b\u0430\u043b\u0438 \u044d\u0442\u0443 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0439 \u0434\u043b\u044f \u0448\u0438\u0440\u043e\u043a\u0438\u0439 \u043c\u0430\u0441\u0441 \u0438 \u0437\u0430\u0445\u0432\u0430\u0442\u0438\u043b\u0438 mindset \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432.",(0,l.kt)("hr",null),(0,l.kt)("p",null,"\u041d\u043e \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0441\u043e\u0441\u0442\u043e\u044f\u0442 \u0438\u0437 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432: front-end, back-end, database \u0438 \u0442.\u0434., \u0438 docker \u043d\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u043a\u0430\u043a \u044d\u0442\u0438\u043c \u0443\u0434\u043e\u0431\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f."),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},(0,l.kt)("inlineCode",{parentName:"p"},"docker-compose")," - \u0447\u0430\u0441\u0442\u0438\u0447\u043d\u043e \u0440\u0435\u0448\u0430\u0435\u0442 \u0432\u043e\u043f\u0440\u043e\u0441 \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043e\u043a\u0435\u0440, \u043d\u043e \u043b\u0438\u0448\u044c \u0432 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0430\u0445."))),(0,l.kt)("h3",{id:"orchestration-"},"Orchestration \u26f5"),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},(0,l.kt)("a",{parentName:"p",href:"https://www.cncf.io/"},"Cloud Native Computing Foundation (CNCF)")," serves as the vendor-neutral home for many of the fastest-growing open source projects, including Kubernetes, Prometheus, and Envoy."))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u041f\u043e\u0447\u0435\u043c\u0443 K8s?")),(0,l.kt)(u,{color:"#25c2a0",mdxType:"Highlight"},"Kubernetes (k8s)")," - \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u043c\u0438:",(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u043f\u0440\u043e\u0435\u043a\u0442 CNCF")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u0443\u0434\u0430\u0447\u043d\u0430\u044f \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 - \u043a\u0430\u0436\u0434\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d \u043e\u0442 \u0434\u0440\u0443\u0433\u043e\u0433\u043e")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u043a\u043e\u043c\u044c\u044e\u043d\u0438\u0442\u0438 (85\u043a \u0437\u0432\u0435\u0437\u0434)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u0434\u0435\u0444\u0430\u043a\u0442\u043e - \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442 \u043e\u0442\u0440\u0430\u0441\u043b\u0438")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u0434\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0439")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442 \u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u043a\u0443 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"self-healing - \u043c\u043e\u0436\u0435\u0442 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043e\u0442\u043a\u0430\u0437\u0430\u0432\u0448\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u044b, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0438 \u0442.\u0434."))),(0,l.kt)(p.Z,{chart:"\n  flowchart TB\n    api((kube-api))\n    subgraph workers\n        n1[node1]\n        n2[node2]\n        nx[nodeX]\n    end\n    \n    client --\x3e api\n    master --\x3e api\n    s[(Storage)] --\x3e api\n    workers --\x3e api\n",mdxType:"Mermaid"}),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"\u0432\u043e\u043f\u0440\u043e\u0441")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"\u041a\u0430\u043a\u043e\u0439 \u0438\u0437 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432 ",(0,l.kt)("strong",{parentName:"p"},"Kubernetes")," \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0432\u0441\u0435\u043c\u0438 \u0434\u0440\u0443\u0433\u0438\u043c\u0438?"))),(0,l.kt)("h3",{id:"cicd--"},"CI/CD \ud83d\ude80 \ud83d\udcbf"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:a(8484).Z})),(0,l.kt)(u,{color:"#164a6f",mdxType:"Highlight"},"CI")," - \u043d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u0430\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f, \u0447\u0430\u0441\u0442\u044b\u0435 \u0441\u043b\u0438\u044f\u043d\u0438\u044f \u0441 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0432\u0435\u0442\u043a\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438.",(0,l.kt)("hr",null),(0,l.kt)(u,{color:"#f57e0f",mdxType:"Highlight"},"CD")," - \u043d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u0430\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430 - \u043d\u043e\u0432\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f (\u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442) \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u043c \u0441\u043b\u0438\u044f\u043d\u0438\u0435, \u043d\u043e \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u0435 \u0432\u0441\u0435 \u0435\u0449\u0435 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0432\u0440\u0443\u0447\u043d\u0443\u044e.",(0,l.kt)("hr",null),(0,l.kt)(u,{color:"#f57e0f",mdxType:"Highlight"},"CD")," - \u043d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u043e\u0435 \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u0435 - \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u043e \u0442\u043e\u043c, \u0447\u0442\u043e \u043f\u043e\u0441\u043b\u0435 \u0441\u0431\u043e\u0440\u043a\u0438 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u0430 \u043e\u043d \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u043e\u0434\u043d\u043e \u0438\u0437 \u043d\u0430\u0448\u0438\u0445 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0439.",(0,l.kt)("hr",null),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"CI/CD/CD - \u0441\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0432\u0430\u0448\u0435\u0433\u043e GitXXX Flow."))),(0,l.kt)(p.Z,{chart:"\n  flowchart TB\n    subgraph deploy\n        d2[canary]\n    end\n    subgraph delivery\n        d1[docker-registry]\n    end\n    subgraph test\n        t1[pytest]\n        t2[coverage]\n        t3[smoke]\n    end\n    subgraph build\n        b[docker]\n    end\n    subgraph lint\n        l1[flake8]\n        l2[black]\n    end\n",mdxType:"Mermaid"}),(0,l.kt)("h2",{id:"gitops-argo-cd"},"GitOps, Argo CD"),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"\u0432\u043e\u043f\u0440\u043e\u0441")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("ul",{parentName:"div"},(0,l.kt)("li",{parentName:"ul"},"\u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 Infrastructure as a Code (IaC)?"),(0,l.kt)("li",{parentName:"ul"},"\u0412 \u0447\u0435\u043c \u0440\u0430\u0437\u043d\u0438\u0446\u0430 \u0438\u043c\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u0438 \u0434\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u0440\u0430\u0434\u0438\u0433\u043c?")))),(0,l.kt)("h3",{id:"argo-cd-workflow"},"Argo CD workflow"),(0,l.kt)(p.Z,{chart:"\n  flowchart TD\n    subgraph application [app repo]\n        dev[developer]\n        dev -- commit changes --\x3e app[app repo]\n        app -- CI pipeline --\x3e ci[build and push image to registry]\n    end\n    subgraph infrastructure [infra repo]\n        re[release engineer]\n        re -- commit changes --\x3e infra[infra repo]\n    end\n    subgraph env [k8s]\n      argo -- continuously pull --\x3e infra\n      argo -- sync desired state --\x3e k8s[k8s cluster]\n    end\n",mdxType:"Mermaid"}),(0,l.kt)("h3",{id:"gitops"},"GitOps"),(0,l.kt)(u,{color:"#1877F2",mdxType:"Highlight"},"GitOps")," - \u044d\u0442\u043e \u044d\u0432\u043e\u043b\u044e\u0446\u0438\u044f ",(0,l.kt)("strong",null,"IaC"),", \u0433\u0434\u0435 ",(0,l.kt)("strong",null,"Git")," \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c \u0438\u0441\u0442\u0438\u043d\u044b \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u043d\u0430\u0448\u0435\u0439 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0443\u043a\u0442\u0443\u0440\u044b, \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442 \u043d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u043e\u0435 \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u0435.",(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u0441\u0442\u044c: \u0430\u0443\u0434\u0438\u0442 / \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u044d\u043a\u0441\u043f\u0435\u0440\u0442\u0438\u0437\u044b / \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f / Git Workflow (\u043f\u0435\u0440\u0435\u043d\u043e\u0441 \u043e\u043f\u044b\u0442\u0430 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0443\u043a\u0442\u0443\u0440\u043e\u0439)"),(0,l.kt)("li",{parentName:"ul"},"\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a - ",(0,l.kt)("inlineCode",{parentName:"li"},"git revert")),(0,l.kt)("li",{parentName:"ul"},"\u043b\u0435\u0433\u043a\u043e\u0441\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u0432")),(0,l.kt)("h3",{id:"gitops-vs-iacci_ops"},"GitOps vs IaC(CI_OPs)"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"..."),(0,l.kt)("th",{parentName:"tr",align:null},"GitOps"),(0,l.kt)("th",{parentName:"tr",align:null},"IaC"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Paradigm \ud83d\uddff"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Pull")," (",(0,l.kt)("em",{parentName:"td"},"Declarative"),")"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Push")," (",(0,l.kt)("em",{parentName:"td"},"Imperative"),")")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Code Storage \ud83c\udfe6"),(0,l.kt)("td",{parentName:"tr",align:null},"Git"),(0,l.kt)("td",{parentName:"tr",align:null},"may not be in Git")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Code Changes Process \ud83d\ude4b\u200d\u2640\ufe0f"),(0,l.kt)("td",{parentName:"tr",align:null},"GitXXX flow"),(0,l.kt)("td",{parentName:"tr",align:null},"GitXXX flow or manual")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Infrastructure Updates \ud83d\udd27"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"Automated")),(0,l.kt)("td",{parentName:"tr",align:null},"CI or manual")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Access \ud83d\udc82\u200d\u2642\ufe0f"),(0,l.kt)("td",{parentName:"tr",align:null},"Operator to git"),(0,l.kt)("td",{parentName:"tr",align:null},"CI or operator to K8s api")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Infra Changes \ud83d\udca5"),(0,l.kt)("td",{parentName:"tr",align:null},"Git"),(0,l.kt)("td",{parentName:"tr",align:null},"helm rollback,upgrade,delete and etc.")))),(0,l.kt)("h3",{id:"argo-cd"},"Argo CD"),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},(0,l.kt)("strong",{parentName:"p"},"controller")," = ",(0,l.kt)("strong",{parentName:"p"},"operator")," = ",(0,l.kt)("strong",{parentName:"p"},"agent")),(0,l.kt)("p",{parentName:"div"},(0,l.kt)("strong",{parentName:"p"},"K8s"),", \u044d\u0442\u043e \u043b\u0438\u0448\u044c \u043e\u0434\u0438\u043d \u0438\u0437 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f GitOps \u0438 cloud native \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439"))),(0,l.kt)(u,{color:"#1877F2",mdxType:"Highlight"},"GitOps")," \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 \u0434\u043b\u044f ",(0,l.kt)("strong",null,"K8s"),".",(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d CNCF"),(0,l.kt)("li",{parentName:"ul"},"\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 Git \u043a\u0430\u043a \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0438\u0441\u0442\u0438\u043d\u044b, \u043c\u043e\u0436\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 \u0441 Git"),(0,l.kt)("li",{parentName:"ul"},"\u0434\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0439 (plain yaml, plain json, kustomize, helm, jsonnet)"),(0,l.kt)("li",{parentName:"ul"},"controller + CRD"),(0,l.kt)("li",{parentName:"ul"},"SSO + RBAC")),(0,l.kt)("h2",{id:"demo"},"Demo"),(0,l.kt)("div",{class:"video-wrapper"},(0,l.kt)("iframe",((t={height:"540",frameborder:"0",allowfullscreen:!0,width:"100%",src:"https://www.youtube.com/embed/VfC4d0uLWS4"}).frameborder="0",t.allowfullscreen=!0,t))),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"\u041a\u043e\u0434 \u0438\u0437 demo: ",(0,l.kt)("a",{parentName:"p",href:"https://gitlab.com/publi8/"},"https://gitlab.com/publi8/")))),(0,l.kt)("h3",{id:"application"},"Application"),(0,l.kt)(i.Z,{defaultValue:"dockerfile",mdxType:"Tabs"},(0,l.kt)(o.Z,{value:"py",label:"FastApi",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-py"},'from fastapi import FastAPI\n\napp = FastAPI()\n\n\n@app.get("/")\ndef read_root():\n    return {"Hello": "World"}\n\n\n@app.get("/version")\ndef get_version():\n    return {"version": "demo-1"}\n'))),(0,l.kt)(o.Z,{value:"dockerfile",label:"Dockerfile",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dockerfile"},'FROM python:3.10.0-alpine3.14\n\nCOPY ./requirements.txt ./requirements.txt\n\nRUN pip install --no-cache-dir -r requirements.txt\n\nRUN addgroup --gid 10001 app \\\n  && adduser \\\n    --uid 10001 \\\n    --home /home/app \\\n    --shell /bin/ash \\\n    --ingroup app \\\n    --disabled-password \\\n    app\n\nWORKDIR /home/app\n\nUSER app\n\nCOPY ./ /home/app\n\nENTRYPOINT ["/usr/local/bin/uvicorn"]\nCMD ["main:app", "--reload", "--host=0.0.0.0", "--port=8000"]\n')))),(0,l.kt)("h3",{id:"kubernetes-environment"},"Kubernetes Environment"),(0,l.kt)(i.Z,{defaultValue:"app",mdxType:"Tabs"},(0,l.kt)(o.Z,{value:"app",label:"Application",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml",metastring:"{12-17}","{12-17}":!0},"---\n\nkind: Application\napiVersion: argoproj.io/v1alpha1\nmetadata:\n  name: demo-app\n  namespace: argocd\n  finalizers:\n    - resources-finalizer.argocd.argoproj.io\nspec:\n  project: default\n  source:\n    repoURL: https://gitlab.com/publi8/demo-environment.git\n    targetRevision: main\n    path: ./demo-app\n    directory:\n      recurse: true\n  destination:\n    namespace: default\n    server: https://kubernetes.default.svc\n  syncPolicy:\n    automated:\n      selfHeal: true\n  revisionHistoryLimit: 3\n"))),(0,l.kt)(o.Z,{value:"deploy",label:"Deployment",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml",metastring:"{31}","{31}":!0},'---\napiVersion: v1\nkind: Service\nmetadata:\n  name: demo-app\n  namespace: default\nspec:\n  selector:\n    app: demo-app\n  ports:\n  - port: 8000\n    targetPort: 8000\n...\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: demo-app\n  namespace: default\nspec:\n  selector:\n    matchLabels:\n      app: demo-app\n  template:\n    metadata:\n      labels:\n        app: demo-app\n    spec:\n      containers:\n      - name: demo-app\n        image: registry.gitlab.com/publi8/demo-application\n        resources:\n          requests:\n            cpu: "20m"\n            memory: "32Mi"\n          limits:\n            cpu: "30m"\n            memory: "64Mi"\n        ports:\n        - containerPort: 8000\n')))),(0,l.kt)("h3",{id:"environment-init"},"Environment Init"),(0,l.kt)("h4",{id:"argo-ui"},"Argo UI"),(0,l.kt)("p",null,"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u0435\u0439\u043c\u0441\u043f\u0435\u0439\u0441 \u0434\u043b\u044f argo, \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0447\u0430\u0440\u0442 \u0438 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0440\u0435\u043b\u0438\u0437."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl create ns argocd\nhelm repo add argo https://argoproj.github.io/argo-helm\nhelm upgrade --install argocd argo/argo-cd --namespace argocd\n")),(0,l.kt)("p",null,"\u0416\u0434\u0435\u043c \u043f\u043e\u043a\u0430 \u043f\u043e\u0434\u043d\u0438\u043c\u0443\u0442\u0441\u044f \u043f\u043e\u0434\u044b argocd:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"watch kubectl get pod -n argocd\n")),(0,l.kt)("p",null,"\u0412 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435 \u0434\u0435\u043b\u0430\u0435\u043c pf argo ui:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl port-forward service/argocd-server -n argocd 8080:443\n")),(0,l.kt)("p",null,"\u0421\u043c\u043e\u0442\u0440\u0438\u043c \u043f\u0430\u0440\u043e\u043b\u044c \u043e\u0442 argo ui:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Argo UI")," - ",(0,l.kt)("a",{parentName:"p",href:"http://127.0.0.1:8080"},"http://127.0.0.1:8080")),(0,l.kt)("h4",{id:"app-ui"},"App UI"),(0,l.kt)("p",null,"\u0421\u043e\u0437\u0434\u0430\u0435\u043c ",(0,l.kt)("inlineCode",{parentName:"p"},"Argo Application")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl create -f demo-app.yml\nwatch kubectl get pod -n default\n")),(0,l.kt)("p",null,"\u0412 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435 \u0434\u0435\u043b\u0430\u0435\u043c pf app ui:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl port-forward service/demo-app -n default 8000:8000\n")),(0,l.kt)("p",null,"\u0414\u0435\u043b\u0430\u0435\u043c \u0437\u0430\u043f\u0440\u043e\u0441 \u043a \u0441\u0435\u0440\u0432\u0438\u0441\u0443:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'$ http http://127.0.0.1:8000/version\nHTTP/1.1 200 OK\ncontent-length: 20\ncontent-type: application/json\ndate: Tue, 08 Feb 2022 05:03:42 GMT\nserver: uvicorn\n\n{\n    "version": "demo-1"\n}\n')),(0,l.kt)("p",null,"\u0423\u0434\u0430\u043b\u0438\u043c \u0432\u0441\u0435 \u0434\u0435\u043f\u043b\u043e\u0439\u043c\u0435\u043d\u0442\u044b \u0438 \u0443\u0431\u0435\u0434\u0438\u043c\u0441\u044f, \u0447\u0442\u043e \u0430\u0440\u0433\u043e \u0432\u0435\u0440\u043d\u0435\u0442 \u0432\u0441\u0435 \u043a\u0430\u043a \u0431\u044b\u043b\u043e:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl -n default delete deploy --all\n")),(0,l.kt)("h4",{id:"example-update"},"Example Update"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"),(0,l.kt)("li",{parentName:"ul"},"\u043c\u0435\u043d\u044f\u0435\u043c \u0442\u0435\u0433 \u043e\u0431\u0440\u0430\u0437\u0430 \u0432 deployment-\u0435 \u0438 \u043a\u043e\u043c\u043c\u0438\u0442\u0438\u043c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\n\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u043b\u043e\u0441\u044c:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'$ http http://127.0.0.1:8000/version\nHTTP/1.1 200 OK\ncontent-length: 46\ncontent-type: application/json\ndate: Tue, 08 Feb 2022 05:14:42 GMT\nserver: uvicorn\n\n{\n    "project": "ArgoCD - Demo",\n    "version": "demo-1"\n}\n')),(0,l.kt)("h2",{id:"conclusion"},"Conclusion"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Links"),(0,l.kt)("p",null,"GitOps"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://www.gitops.tech/"},"https://www.gitops.tech/")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://about.gitlab.com/topics/gitops/"},"https://about.gitlab.com/topics/gitops/")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://www.weave.works/technologies/gitops/"},"https://www.weave.works/technologies/gitops/")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://express42.com/news/difference-between-gitops-and-iac/"},"https://express42.com/news/difference-between-gitops-and-iac/")),(0,l.kt)("li",{parentName:"ul"},"video ",(0,l.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=f5EpcWp0THw"},"Nana gitops")),(0,l.kt)("li",{parentName:"ul"},"video ",(0,l.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=n12xQNWhRdw"},"d.stolyarov - gitops"))),(0,l.kt)("p",null,"ArgoCD:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://argo-cd.readthedocs.io/en/stable/"},"https://argo-cd.readthedocs.io/en/stable/")),(0,l.kt)("li",{parentName:"ul"},"video ",(0,l.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?t=1m4s&v=aWDIQMbp1cc&feature=youtu.be"},"Argo CD Demo")," - argo docs"),(0,l.kt)("li",{parentName:"ul"},"video ",(0,l.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=MeU5_k9ssrs"},"Nana Argo CD"))),(0,l.kt)("p",null,"CI/CD:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://humanitec.com/blog/continuous-integration-vs-continuous-delivery-vs-continuous-deployment"},"CI/CD/CD")))))}h.isMDXComponent=!0},8484:function(e,t,a){t.Z=a.p+"assets/images/ci-cd-dd37f52e844845c145bb25d7bbaf8ab0.jpg"},9729:function(e,t,a){t.Z=a.p+"assets/images/devops-periodic-table-a975a9042dc4b611b5614a4f50f31022.png"}}]);